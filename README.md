# <img width="30px" src="https://user-images.githubusercontent.com/77655749/182784520-0eaf9f85-fbca-4c81-96ae-0471c3df3bc5.png"/>  Tikkeeul
<a href="https://www.tikkeeul.com/"><img width="980px" src="https://user-images.githubusercontent.com/85613861/182782684-385fce94-b961-4e53-9d63-7bb35d3062cb.png"/></a>

<br> 



## 📌 바로가기

- 사이트 바로가기 : https://www.tikkeeul.com/
- 프론트엔드 GitHub Repository : https://github.com/epppo/take_me_front
- 백엔드 GitHub Respository : https://github.com/uncounted/final-backend
- 시연 영상 보러가기: https://www.youtube.com/watch?v=ynoW_pirnYM
<!-- - Team Notion : https://nonnonnnon.notion.site/nonnonnnon/c84b342351d94ab08689bb4a0ea936ba -->

<br>

## ⏱ 프로젝트 기간

> 2022.06.24 ~ 2022.08.05 (6주)
<br>

## 👾 TEAM MEMBERS

<table>
  <tr>
    <td align="center"><img src="https://avatars.githubusercontent.com/u/93433413?v=4" width="120px"/></td>
    <td align="center"><img src="https://avatars.githubusercontent.com/u/77655749?v=4" width="120px"/></td>
    <td align="center"><img src="https://avatars.githubusercontent.com/u/105037404?v=4" width="120px"/></td>
  <tr>
    <td align="center"><strong>이보람</strong></td>
    <td align="center"><strong>김은진</strong></td>
    <td align="center"><strong>이재엽</strong></td>
  </tr>
  <tr>
      <td align="center"><b>Frontend</b></td>
      <td align="center"><b>Frontend</b></td>
      <td align="center"><b>Frontend</b></td>
<!--     <td align="center"><b>Backend</b></td>
    <td align="center"><b>Design</b></td> -->
  </tr>
    <tr>
      <td align="center"><a href="https://github.com/epppo" target='_blank'>github</a></td>
      <td align="center"><a href="https://github.com/Eunjin09" target='_blank'>github</a></td>
      <td align="center"><a href="https://github.com/yupja" target='_blank'>github</a></td>
  </tr>
</table>

#### 이보람
<details>
<summary> 페이지 / 기능 </summary>
<br>
📋 페이지
<br>
  
* 데일리티끌 
* 커뮤니티
* 랭크
 <br>
  
 ⚙ 기능
  * 태산(목표)<br>
  `아이템등록`,`(DB에 기등록된)태산 검색`,`태산등록`,`태산수정`,`태산삭제`,<br>
  `태산정보확인`,`태산공유(커뮤니티연동)`<br><br>
  * 티끌(아낀내역)<br>
  `아이템등록`,`(DB에 기등록된)티끌 검색`,`티끌등록`,`티끌수정`,`티끌삭제`,<br>
  `즐겨찾기등록 및 토글적용`,`태그를 통한 티끌간편등록`<br><br>
  * 커뮤니티(티끌자랑)<br>
  `좋아요 기능 및 토글적용`<br><br>
  * 커뮤니티(쓸까말까)<br>
  `진행중인 채팅목록조회`,`타이머가 적용된 채팅 룸생성`,`타이머가 적용된 실시간 채팅룸구현`,<br>
  `실시간 찬반투표적용`,`종료된 채팅목록 조회`,`종료된 채팅 상세내역 조회`,`찬반투표 결과 조회`<br><br>
  * 랭킹<br>
  `랭킹 페이지통합`,`타이머가 적용된 채팅 룸생성`,`타이머가 적용된 실시간 채팅룸구현`,<br>
  `실시간 찬반투표적용`,`종료된 채팅목록 조회`,`종료된 채팅 상세내역 조회`,`찬반투표 결과 조회`<br><br>
  *etc
  `태산 퍼센테이지 도넛그래프`, `찬반투표 프로그래스바`, `타이머`
  <br><br><br>
</details>
            
            
#### 김은진
<details>
<summary> 페이지 / 기능 </summary>
<br>
📋 페이지
<br>
  
* 커뮤니티(채팅디테일)
* 로그인 / 회원가입
* 마이페이지
* About페이지
 <br>
  
 ⚙ 기능
  * 커뮤니티(채팅디테일)<br>
  `채팅 디테일 소켓연결`,`채팅/입장 메시지 출력`,`뒤로가기/새로고침 소켓 연결해제`, `채팅 디테일 생성`<br><br>
  * 로그인 / 회원가입<br>
  `JWT을 활용한 로그인`,`구글/카카오 소셜로그인`, `회원가입`,`회원탈퇴`,`아이디찾기`,`비밀번호 찾기/변경`, `로그아웃`<br><br>
  * 마이페이지<br>
  `즐겨찾기 수정`, `즐겨찾기 삭제`, `히스토리 조회`, `카테고리 필터`, `프로필 편집` <br><br><br>
  *etc
  `헤더메뉴`
  <br><br><br>
  
</details>
  
  
#### 이재엽

<details>
<summary> 페이지 / 기능 </summary>
<br>
📋 페이지
<br>
  
* 커뮤니티(티끌자랑)
* 티끌 가이드 

 <br>
  
 ⚙ 기능
  * 커뮤니티(티끌자랑)<br>
  `내 태산%공유`,`게시물 목록출력`,`디테일 상세페이지`, `게시글 상세 더보기`,  
  `댓글등록`, `댓글수정`, `댓글삭제`<br>
  `영수증 출력`
 <br><br><br>
</details>
  
  
  
## 🤸🏻‍♂️ 티끌 미리보기

<table>
  <tr>
    <td align="center"><strong>태산</strong></td>
    <td align="center"><strong>티끌</strong></td>
    <td align="center"><strong>랭킹</strong></td>
  <tr>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183251005-23ebbfd2-5255-4658-876e-91f4c12825c1.gif" width="200px"/></td>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183251115-8af021d8-485b-4631-86ff-c4f4b8b19e4c.gif" width="200px" /></td>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183250901-4f516c17-1b48-4e01-9ed6-62fd76490bbe.gif" width="200px"></a></td>
  </tr>
  <tr>
      <td align="center"><b>커뮤니티</b></td>
      <td align="center"><b>타이머 채팅방 만들기</b></td>
      <td align="center"><b>실시간 채팅방</b></td>
  <tr>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183251006-fc81981c-4f81-44ca-95a0-ba0fe4810002.gif" width="200px"/></a></td>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183250931-3b9e616e-6c94-4740-97c1-c15520245242.gif" width="200px" /></a></td>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183250926-196c2bc6-ab2e-4c6c-acbe-668e0193fca8.gif" width="200px"></a></td>
  </tr>
  <tr>
      <td align="center"><b>종료된 채팅방</b></td>
      <td align="center"><b>마이페이지</b></td>
      <td align="center"><b></b></td>
  <tr>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183250917-c33e6bca-b13d-4a94-8a92-8c2c6c843276.png" width="200px"/></a></td>
    <td align="center"><img src="https://user-images.githubusercontent.com/93433413/183250903-adc4e6c3-c8dd-4c8f-b32a-5220b8190234.gif" width="200px"/></a></td>
    <td align="center"><img src?"" width="200px"></a></td>
  </tr>

</table>
 

<br>

## 📢  티끌 서비스 주요기능

#### 🏃‍♀ 시간제한 있는 찬반 투표 '쓸까말까'

- 최대 10분의 시간을 설정하여 찬반 투표를 받을 수 있습니다.

#### 🏃‍♀ 실시간 채팅

- 로그인한 유저들끼리 실시간으로 의견을 나눌 수 있습니다.

#### 💸 목표 설정(태산) & 아낀 내용 기록(티끌)

- 목표 아이템을 설정하고 아낀 내용을 기록할 수 있습니다.

#### 📌 티끌 자랑(게시판) 글 작성/수정/삭제

- 목표 아이템을 공유하여 내가 이룬 성과를 자랑할 수 있습니다.

#### 💌 티끌 자랑(게시판) 좋아요/댓글(수정, 삭제)

- 게시글에 좋아요 누르거나 댓글을 남길 수 있습니다.

#### 👻 통계

- 일별/월별기준으로 횟수별/금액별로 본인의 통계와 다른 유저의 통계를 확인할 수 있습니다.

#### 🧩 자동완성

- 아이템 검색이 가능하며 없는 아이템일 경우 추가 등록이 가능합니다.

#### 🎠 무한스크롤

- 사용자가 보고 있는 페이지 일부분만 최적화하여 랜더링하기 위해 무한스크롤을 도입하였습니다. 

#### 🔐 카카오/구글 소셜 로그인

- 구글과 카카오를 통한 소셜로그인으로 간편하게 로그인할 수 있습니다.

#### 🔑 회원가입/로그인

- 아이디, 닉네임, 이메일 중복체크와 여러 유효성 검사를 통과해야 회원가입이 가능합니다.

#### 🔑 JWT 인증방식

- JWT를 이용해 RefreshToken/AccessToken 으로 안전하게 관리합니다. 

<br>

## ✨ 아키텍쳐

![stack_diagram](https://user-images.githubusercontent.com/77655749/182791653-5512b1d1-98f8-4f2f-865d-5fb62b3553c8.png)

#### 🐤 프론트 아키텍처
<img width="800px" src="https://user-images.githubusercontent.com/77655749/182847661-0e15685c-9ed4-413a-9c01-afeb25696805.png">

## 🔨 기술스택

### **Tech**

<p>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
<img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/redux-764ABC?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/axios-007CE2?style=for-the-badge&logo=axios&logoColor=white">
<img src="https://img.shields.io/badge/reactrouterdom-CA4245?style=for-the-badge&logo=reactrouterdom&logoColor=white">
<img src="https://img.shields.io/badge/socket.io-010101?style=for-the-badge&logo=reactrouterdom&logoColor=white">
</br>
<img src="https://img.shields.io/badge/styled--components-DB7093?style=for-the-badge&logo=styledcomponents&logoColor=white">
<img src="https://img.shields.io/badge/amazonaws-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white">
<img src="https://img.shields.io/badge/amazonamplify-orange?style=for-the-badge&logo=amazonsamplify&logoColor=white"> 
<img src="https://img.shields.io/badge/route53-F7A81B?style=for-the-badge&logo=route53&logoColor=white">
<img src="https://img.shields.io/badge/SweetAlert2-362D59?style=for-the-badge&logo=SweetAlert2&logoColor=black">
</br>
<img src="https://img.shields.io/badge/MUI-%230081CB.svg?style=for-the-badge&logo=mui&logoColor=white" >
<img src="https://img.shields.io/badge/Kakao Map Api-F3DC00?style=for-the-badge&logo=KaKao Map Api&logoColor=white">
<br>
</p>

### **Design**

<p>
<img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=Figma&logoColor=white"/>
  <img src="https://img.shields.io/badge/zeplin-FDBD39?style=for-the-badge&logo=zeplin&logoColor=FDBD39"/>
</p>

### **Tools**

<p>
<img src="https://img.shields.io/badge/VSCode-007ACC?style=for-the-badge&logo=Visual Studio Code&logoColor=white"/>
<img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>
<img src="https://img.shields.io/badge/Github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white">
<img src="https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=Slack&logoColor=white"/>
<br>
</p>

<br>

## 📚 라이브러리
<details>
<summary><strong> 리스트 </strong></summary>

|            Name             |       Appliance       |   Version    |      선정이유      |
| :-------------------------: | :-------------------: | :----------: |    :----------:    |
|           swiper            |       슬라이드        |    2.1.2     | 슬라이드가 부드러우며 다양한 UI를 지원하고 있기에 선택했습니다.
|      styled-components      |    컴포넌트 스타일링   |    5.3.5     | 모듈성을 위한 css 모델을 문서레벨이 아닌 컴포넌트 레벨로 추상화 한다는 점과 js와 css 사이의 상수와 함수를 쉽게 공유할 수 있고 props를 활용한 조건부 스타일링이 가능하여 사용하였다.
|            Redux            |       상태 관리       |    4.2.0     | 예측 가능한 데이터 플로우를 그릴 수 있다는 장점이 있고 전역으로 상태관리를 할 수 있는 라이브러리로 리덕스를 선택했습니다.
|            axios            |       서버통신        |    0.26.1    | 비동기로 HTTP통신을 하기 위해 브라우저 호환성이 높은 AXIOS를 사용했습니다.
|      React-router-dom       |        라우터         |    5.3.0     |
|         Redux-thunk         |    리덕스 미들웨어    |    2.4.1     | 리액트에서 비동기 작업을 처리할 때 사용하기 위해 선택했습니다.
|  WebSocket, Sock.js, Stomp  |         채팅          |    4.5.1     | 채팅 기능 구현을 위해 커넥션이 유지되는 양방향 통신 기술이 필요해 사용했다. Data 전송이 빠르고 부담이 적으며, Spring에 주로 활용되는 웹소켓을 채택했다. 웹소켓을 지원하지 않는 브라우저가 있을 수 있으니 sock.js를 추가 도입하였다. 또한, 구독/발행 모델을 가지고 있어 방별로 메시징 처리가 용이한 Stomp를 도입하였다.
|        redux-toolkit        |       상태 관리       |    ?.?.?     | action type이나 action creator를 따로 생성해주지 않아도 되고. immer가 내장되어 있어 mutable 객체를 사용할 수 있었다. redux-thunk가 내장되어 있어 비동기 처리 및 미들웨어 추가가 편리하게 사용되었다. 리덕스에 비해 설치해야하는 패키지도 적고 간결하고 정형화된 코드 패턴을 사용할 수 있어 툴킷을 사용하였다.
  
</details>
 <br>
 

<br/>

## 🔥 트러블 슈팅
<details>
<summary><strong> issue1: JWT 액세스,리프레쉬 토큰 관리 </strong></summary>

#### 🙁 situation

- 토큰 탈취에 대한 보안을 강화하기 위해 액세스 토큰의 시간을 짧게 하고 액세스토큰의 재발급이 가능한 리프레쉬 토큰 도입

#### 🛑 cause

- 두 가지의 토큰을 로그인이 필요한 모든 통신에 담아주다보니 불필요한 코드가 길어지고 토큰을 빠트리게 되는 문제 발생
- 액세스 토큰이 만료될 시 리프레쉬 토큰을 통해 재발급을 해주지만 실패한 요청을 재요청하지 않음

#### 🚥 solution

- request 요청에 대한 인터셉터를 만들어 자동으로 모든 요청에 두가지의 토큰을 전달
- response가 실패 시 액세스토큰이 만료되어 재발급 되는 경우면 새토큰을 쿠키에 저장하고 본래의 요청을 다시 요청하는 인터셉터 구성
</details>

<details>
<summary><strong> issue2: 시간 제한이 있는 채팅방 구현 </strong></summary>

#### 🙁 요구사항

- 사용자는 최대 10분의 시간을 설정하여 채팅방 생성 및 찬반투표를 받을 수 있다.
- 모든 유저에게 채팅방에 대해 동일한 시간 카운트 다운이 필요하다.
- 제한 시간 종료 시 소켓 연결을 해제해야 한다.

#### 🛑 선택지

- 각 단계를 넘나들 때 컴포넌트가 많아 useState의 데이터를 props로 주고받는 과정에서 데이터가 초기화 되고 자식컴포넌트에서 부모컴포넌트의 데이터를 바꿔야 하는 경우가 발생

#### 🚥 의견 조율

- 상속된 컴포넌트가 많고 부모,자식 컴포넌트의 원활한 데이터 전역 관리를 위한 리덕스 활용
  
#### 의견 결정

- 프론트에서는 타이머만 작동시키고, 방에 대한 시간은 백에서 진행하여 전달한다.
- 이렇게 하면 유저마다 시간이 달라질 일이 없고, 설령 유저의 네트워크 이슈로 타이머가 늦게 돌더라도 약간의 오차만 남은 채 모든 유저가 동일한 시간에 소켓 연결이 끊어질 수 있다.
- 프론트에서 disconnect() 메소드를 통해 새로고침, 뒤로가기 시 소켓 연결을 해제하기로 한다.
</details>

<details>
<summary><strong> issue3: 프론트 관련 트러블슈팅 추가 필요 </strong></summary>

#### 🙁 situation

- 

#### 🛑 cause

- 

#### 🚥 solution

-  
</details>

<br></br>
## 🌸 More Info

팀 노션, confluencce, jira, 와이어프레임 링크 추가 예정
